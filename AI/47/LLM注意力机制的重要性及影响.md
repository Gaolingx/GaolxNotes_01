# LLMæ³¨æ„åŠ›æœºåˆ¶çš„é‡è¦æ€§åŠå½±å“

### ğŸ§‘â€ğŸ’» User

llmçš„æ³¨æ„åŠ›æœºåˆ¶æ¨¡å—é‡è¦å—ï¼Œå…·ä½“åæ˜ åˆ°å„é¡¹ä»»åŠ¡æ€§èƒ½æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ

---

### ğŸ¤– Assistant

LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰ä¸­çš„**æ³¨æ„åŠ›æœºåˆ¶æ¨¡å—ä¸ä»…æå…¶é‡è¦ï¼Œè€Œä¸”æ˜¯å…¶æ ¸å¿ƒåˆ›æ–°å’Œæ€§èƒ½çªç ´çš„å…³é”®æ‰€åœ¨**ã€‚å®ƒç›´æ¥å†³å®šäº†æ¨¡å‹ç†è§£ä¸Šä¸‹æ–‡ã€æ•æ‰é•¿è·ç¦»ä¾èµ–å…³ç³»ã€èšç„¦å…³é”®ä¿¡æ¯çš„èƒ½åŠ›ï¼Œè¿›è€Œæ·±åˆ»å½±å“å‡ ä¹æ‰€æœ‰ä»»åŠ¡çš„æ€§èƒ½è¡¨ç°ã€‚

ä»¥ä¸‹ä»é‡è¦æ€§å’Œå¯¹å…·ä½“ä»»åŠ¡æ€§èƒ½çš„å½±å“ä¸¤æ–¹é¢è¯¦ç»†è¯´æ˜ï¼š

## ä¸€ã€æ³¨æ„åŠ›æœºåˆ¶ä¸ºä»€ä¹ˆå¦‚æ­¤é‡è¦ï¼Ÿ

1.  **æ ¸å¿ƒåˆ›æ–°ï¼š**
    *   æ³¨æ„åŠ›æœºåˆ¶ï¼ˆç‰¹åˆ«æ˜¯Transformeræ¶æ„ä¸­çš„è‡ªæ³¨æ„åŠ›/ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›ï¼‰æ˜¯Transformeræ¨¡å‹ï¼ˆå¦‚GPTã€BERTã€PaLMã€LLaMAç­‰æ‰€æœ‰ç°ä»£LLMçš„åŸºç¡€ï¼‰åŒºåˆ«äºä¹‹å‰RNN/LSTMç­‰æ¨¡å‹çš„æ ¸å¿ƒçªç ´ã€‚
    *   å®ƒè§£å†³äº†RNN/LSTMåœ¨å¤„ç†é•¿åºåˆ—æ—¶å­˜åœ¨çš„æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸é—®é¢˜ï¼Œä½¿å¾—æ¨¡å‹èƒ½å¤Ÿé«˜æ•ˆåœ°æ•è·åºåˆ—ä¸­ä»»æ„ä½ç½®å…ƒç´ ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œæ— è®ºè·ç¦»å¤šè¿œã€‚

2.  **æ ¸å¿ƒåŠŸèƒ½ï¼š**
    *   **åŠ¨æ€èšç„¦ï¼š** å¯¹äºåºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼ˆå¦‚ä¸€ä¸ªè¯ï¼‰ï¼Œæ³¨æ„åŠ›æœºåˆ¶èƒ½å¤Ÿè®¡ç®—å®ƒä¸åºåˆ—ä¸­æ‰€æœ‰å…¶ä»–å…ƒç´ ï¼ˆåŒ…æ‹¬è‡ªèº«ï¼‰çš„â€œç›¸å…³æ€§â€æˆ–â€œé‡è¦ç¨‹åº¦â€ï¼ˆæ³¨æ„åŠ›æƒé‡ï¼‰ã€‚
    *   **ä¸Šä¸‹æ–‡æ„ŸçŸ¥ï¼š** é€šè¿‡è®¡ç®—å‡ºçš„æƒé‡ï¼Œæ¨¡å‹åœ¨ç”Ÿæˆæˆ–ç†è§£æŸä¸ªè¯æ—¶ï¼Œèƒ½å¤Ÿâ€œæ³¨æ„â€åˆ°è¾“å…¥åºåˆ—ä¸­æ‰€æœ‰ä¸ä¹‹ç›¸å…³çš„éƒ¨åˆ†ï¼Œå½¢æˆä¸°å¯Œçš„ä¸Šä¸‹æ–‡è¡¨ç¤ºã€‚
    *   **å¹¶è¡Œè®¡ç®—ï¼š** ä¸RNNçš„é¡ºåºå¤„ç†ä¸åŒï¼Œæ³¨æ„åŠ›æœºåˆ¶çš„è®¡ç®—å¯ä»¥é«˜åº¦å¹¶è¡ŒåŒ–ï¼Œæå¤§æé«˜äº†æ¨¡å‹çš„è®­ç»ƒå’Œæ¨ç†é€Ÿåº¦ï¼Œä½¿å¾—è®­ç»ƒè¶…å¤§è§„æ¨¡æ¨¡å‹æˆä¸ºå¯èƒ½ã€‚
    *   **é•¿è·ç¦»ä¾èµ–å»ºæ¨¡ï¼š** èƒ½å¤Ÿç›´æ¥è¿æ¥åºåˆ—ä¸­ä»»æ„ä¸¤ä¸ªä½ç½®çš„ä¿¡æ¯ï¼Œè§£å†³äº†é•¿æ–‡æœ¬ç†è§£ä¸­çš„å…³é”®éš¾é¢˜ã€‚

3.  **æ¨¡å‹èƒ½åŠ›çš„åŸºçŸ³ï¼š**
    *   è¯­è¨€ç†è§£ï¼ˆè¯­ä¹‰æ¶ˆæ­§ã€æŒ‡ä»£æ¶ˆè§£ã€é€»è¾‘æ¨ç†ï¼‰ã€è¯­è¨€ç”Ÿæˆï¼ˆè¿è´¯æ€§ã€ä¸€è‡´æ€§ã€åˆ›é€ æ€§ï¼‰ã€çŸ¥è¯†åˆ©ç”¨ã€å¤šä»»åŠ¡å­¦ä¹ ç­‰LLMçš„æ ¸å¿ƒèƒ½åŠ›ï¼Œéƒ½é«˜åº¦ä¾èµ–äºæ³¨æ„åŠ›æœºåˆ¶æœ‰æ•ˆæ•´åˆå’Œåˆ©ç”¨ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚

## äºŒã€æ³¨æ„åŠ›æœºåˆ¶å¯¹å„é¡¹ä»»åŠ¡æ€§èƒ½çš„å…·ä½“å½±å“

æ³¨æ„åŠ›æœºåˆ¶çš„è´¨é‡ï¼ˆè®¾è®¡ã€è§„æ¨¡ã€è®­ç»ƒæ•°æ®ï¼‰ç›´æ¥å½±å“æ¨¡å‹åœ¨å„ç§NLPä»»åŠ¡ä¸Šçš„è¡¨ç°ï¼š

1.  **è‡ªç„¶è¯­è¨€ç†è§£ä»»åŠ¡ï¼š**
    *   **æ–‡æœ¬åˆ†ç±»/æƒ…æ„Ÿåˆ†æï¼š** æ³¨æ„åŠ›å¸®åŠ©æ¨¡å‹èšç„¦æ–‡æœ¬ä¸­è¡¨è¾¾æƒ…æ„Ÿæˆ–ä¸»é¢˜çš„å…³é”®è¯æˆ–çŸ­è¯­ï¼Œå¿½ç•¥æ— å…³ä¿¡æ¯ï¼Œæé«˜åˆ†ç±»å‡†ç¡®ç‡ã€‚
    *   **å‘½åå®ä½“è¯†åˆ«/å…³ç³»æŠ½å–ï¼š** æ¨¡å‹éœ€è¦ç†è§£è¯è¯­åœ¨ä¸Šä¸‹æ–‡ä¸­çš„å…·ä½“å«ä¹‰å’Œä¸å…¶ä»–å®ä½“çš„å…³ç³»ã€‚æ³¨æ„åŠ›æœºåˆ¶å¸®åŠ©æ¨¡å‹å…³è”ç›¸å…³çš„ä¸Šä¸‹æ–‡ä¿¡æ¯æ¥è¯†åˆ«å®ä½“ç±»å‹å’Œå…³ç³»ç±»å‹ã€‚
    *   **é—®ç­”ï¼š** å¯¹äºé˜…è¯»ç†è§£å¼é—®ç­”ï¼Œæ³¨æ„åŠ›æœºåˆ¶è®©æ¨¡å‹åœ¨ç”Ÿæˆç­”æ¡ˆæ—¶èšç„¦é—®é¢˜ç›¸å…³çš„åŸæ–‡ç‰‡æ®µã€‚å¯¹äºå¼€æ”¾åŸŸé—®ç­”ï¼Œå®ƒå¸®åŠ©æ¨¡å‹æ•´åˆä»æµ·é‡æ–‡æœ¬ä¸­å­¦åˆ°çš„ç›¸å…³çŸ¥è¯†ç‰‡æ®µã€‚
    *   **è¯­ä¹‰ç›¸ä¼¼åº¦/è‡ªç„¶è¯­è¨€æ¨ç†ï¼š** æ¨¡å‹éœ€è¦æ·±å…¥ç†è§£ä¸¤ä¸ªå¥å­æˆ–æ®µè½çš„è¯­ä¹‰ã€‚æ³¨æ„åŠ›æœºåˆ¶å¸®åŠ©æ¨¡å‹å»ºç«‹å¥å­å†…éƒ¨ä»¥åŠå¥å­ä¹‹é—´è¯è¯­å’Œæ¦‚å¿µçš„ç²¾ç»†å¯¹é½å’Œæ¯”è¾ƒï¼Œåˆ¤æ–­è•´å«ã€çŸ›ç›¾æˆ–ä¸­ç«‹å…³ç³»ã€‚
    *   **å½±å“ï¼š** æ›´å¥½çš„æ³¨æ„åŠ›æœºåˆ¶æ˜¾è‘—æå‡æ¨¡å‹å¯¹ä¸Šä¸‹æ–‡ç»†å¾®å·®åˆ«çš„æ•æ‰èƒ½åŠ›ã€å¯¹æŒ‡ä»£å’Œçœç•¥çš„ç†è§£èƒ½åŠ›ã€ä»¥åŠè¿›è¡Œå¤æ‚é€»è¾‘æ¨ç†çš„èƒ½åŠ›ï¼Œä»è€Œåœ¨è¿™äº›ä»»åŠ¡ä¸Šå–å¾—æ›´é«˜çš„ç²¾åº¦ã€‚

2.  **è‡ªç„¶è¯­è¨€ç”Ÿæˆä»»åŠ¡ï¼š**
    *   **æœºå™¨ç¿»è¯‘ï¼š** æ³¨æ„åŠ›æœºåˆ¶æ˜¯ç¥ç»æœºå™¨ç¿»è¯‘çš„æ ¸å¿ƒã€‚åœ¨ç”Ÿæˆç›®æ ‡è¯­è¨€å•è¯æ—¶ï¼Œæ¨¡å‹è‡ªåŠ¨â€œæ³¨æ„â€æºè¯­è¨€å¥å­ä¸­æœ€ç›¸å…³çš„éƒ¨åˆ†ï¼ˆè¯æˆ–çŸ­è¯­ï¼‰ï¼Œå®ç°åŠ¨æ€å¯¹é½ï¼Œå¤§å¹…æå‡äº†ç¿»è¯‘çš„æµç•…æ€§å’Œå‡†ç¡®æ€§ï¼Œç‰¹åˆ«æ˜¯å¤„ç†è¯­åºå·®å¼‚å’Œé•¿å¥æ—¶ã€‚
    *   **æ–‡æœ¬æ‘˜è¦ï¼š** æ¨¡å‹éœ€è¦è¯†åˆ«åŸæ–‡ä¸­çš„å…³é”®ä¿¡æ¯å¹¶å‡ç»ƒè¡¨è¾¾ã€‚æ³¨æ„åŠ›æœºåˆ¶å¸®åŠ©æ¨¡å‹åœ¨ç”Ÿæˆæ‘˜è¦çš„æ¯ä¸ªéƒ¨åˆ†æ—¶ï¼Œèšç„¦åŸæ–‡ä¸­æœ€é‡è¦çš„å¥å­æˆ–ä¿¡æ¯ç‚¹ï¼Œç¡®ä¿æ‘˜è¦çš„è¦†ç›–åº¦å’Œå¿ å®åº¦ã€‚
    *   **å¯¹è¯ç”Ÿæˆï¼š** ç”Ÿæˆè¿è´¯ã€ç›¸å…³ã€æœ‰è¶£çš„å›å¤éœ€è¦ç†è§£æ•´ä¸ªå¯¹è¯å†å²ä¸Šä¸‹æ–‡ã€‚æ³¨æ„åŠ›æœºåˆ¶è®©æ¨¡å‹åœ¨ç”Ÿæˆå›å¤æ—¶ï¼Œèƒ½å¤Ÿå…³æ³¨åˆ°å¯¹è¯å†å²ä¸­æœ€é‡è¦çš„éƒ¨åˆ†ï¼ˆå¦‚ä¹‹å‰çš„æé—®ã€å…³é”®é™ˆè¿°ã€ç”¨æˆ·æƒ…ç»ªç­‰ï¼‰ã€‚
    *   **ä»£ç ç”Ÿæˆï¼š** ç±»ä¼¼äºæ–‡æœ¬ç”Ÿæˆï¼Œä½†éœ€è¦ç†è§£ä»£ç è¯­æ³•ã€APIã€å˜é‡ä½œç”¨åŸŸç­‰ã€‚æ³¨æ„åŠ›å¸®åŠ©æ¨¡å‹å…³è”ç›¸å…³çš„ä¸Šä¸‹æ–‡ï¼ˆå¦‚å‡½æ•°å®šä¹‰ã€å˜é‡å£°æ˜ã€ä¹‹å‰çš„ä»£ç è¡Œï¼‰æ¥ç”Ÿæˆæ­£ç¡®çš„ä»£ç ã€‚
    *   **åˆ›æ„å†™ä½œï¼š** ä¿æŒé£æ ¼ä¸€è‡´æ€§ã€æƒ…èŠ‚è¿è´¯æ€§ã€äººç‰©æ€§æ ¼å¡‘é€ ç­‰ï¼Œéƒ½éœ€è¦æ¨¡å‹è®°ä½å¹¶æœ‰æ•ˆåˆ©ç”¨å‰æ–‡ä¿¡æ¯ã€‚æ³¨æ„åŠ›æœºåˆ¶æ˜¯ç»´æŒé•¿æœŸä¸€è‡´æ€§çš„å…³é”®ã€‚
    *   **å½±å“ï¼š** æ³¨æ„åŠ›æœºåˆ¶ç›´æ¥å†³å®šäº†ç”Ÿæˆæ–‡æœ¬çš„**ç›¸å…³æ€§ã€ä¸€è‡´æ€§ã€æµç•…æ€§ã€ä¿¡æ¯é‡å’Œåˆ›é€ æ€§**ã€‚æ›´å¼ºå¤§çš„æ³¨æ„åŠ›æ¨¡å‹èƒ½ç”Ÿæˆæ›´è‡ªç„¶ã€æ›´å‡†ç¡®ã€æ›´ç¬¦åˆä¸Šä¸‹æ–‡è¦æ±‚çš„æ–‡æœ¬ã€‚

3.  **é•¿æ–‡æœ¬å¤„ç†ä»»åŠ¡ï¼š**
    *   **å¤„ç†é•¿æ–‡æ¡£/ä¹¦ç±ï¼š** ç†è§£å°è¯´æƒ…èŠ‚ã€åˆ†æé•¿è®ºæ–‡ã€è¿›è¡Œé•¿å¯¹è¯ç­‰ä»»åŠ¡éœ€è¦æ¨¡å‹è®°ä½å’Œå…³è”ç›¸éš”å¾ˆè¿œçš„ä¿¡æ¯ã€‚
    *   **æŒ‘æˆ˜ä¸å½±å“ï¼š** æ ‡å‡†Transformerçš„è‡ªæ³¨æ„åŠ›è®¡ç®—å¤æ‚åº¦éšåºåˆ—é•¿åº¦å‘ˆå¹³æ–¹çº§å¢é•¿ï¼Œé™åˆ¶äº†å…¶å¤„ç†è¶…é•¿æ–‡æœ¬çš„èƒ½åŠ›ã€‚å› æ­¤ï¼Œæ”¹è¿›æ³¨æ„åŠ›æœºåˆ¶ä»¥é«˜æ•ˆå¤„ç†é•¿ä¸Šä¸‹æ–‡ï¼ˆå¦‚ç¨€ç–æ³¨æ„åŠ›ã€æ»‘åŠ¨çª—å£æ³¨æ„åŠ›ã€FlashAttentionç­‰æŠ€æœ¯ï¼‰æ˜¯æå‡LLMé•¿æ–‡æœ¬ä»»åŠ¡æ€§èƒ½çš„å…³é”®ç ”ç©¶æ–¹å‘ã€‚æ›´é«˜æ•ˆã€æ›´é•¿ç¨‹çš„æ³¨æ„åŠ›æœºåˆ¶èƒ½æ˜¾è‘—æå‡æ¨¡å‹åœ¨éœ€è¦å¤§é‡ä¸Šä¸‹æ–‡ç†è§£çš„ä»»åŠ¡ä¸Šçš„è¡¨ç°ã€‚

4.  **å¤šæ¨¡æ€ä»»åŠ¡ï¼š**
    *   åœ¨ç»“åˆæ–‡æœ¬å’Œå›¾åƒ/è§†é¢‘/éŸ³é¢‘çš„æ¨¡å‹ä¸­ï¼ˆå¦‚GPT-4V, Geminiï¼‰ï¼Œ**äº¤å‰æ³¨æ„åŠ›æœºåˆ¶**å…è®¸æ–‡æœ¬æ¨¡æ€â€œæ³¨æ„â€åˆ°è§†è§‰ç‰¹å¾ï¼ˆæˆ–åä¹‹ï¼‰ï¼Œæ˜¯å®ç°å¤šæ¨¡æ€ç†è§£å’Œç”Ÿæˆçš„æ ¸å¿ƒã€‚
    *   **å½±å“ï¼š** å›¾åƒæè¿°ç”Ÿæˆï¼ˆæ–‡æœ¬å…³æ³¨å›¾åƒåŒºåŸŸï¼‰ã€è§†è§‰é—®ç­”ï¼ˆæ–‡æœ¬é—®é¢˜å…³æ³¨å›¾åƒç›¸å…³éƒ¨åˆ†ï¼‰ã€æ–‡ç”Ÿå›¾ï¼ˆå›¾åƒç”Ÿæˆè¿‡ç¨‹å…³æ³¨æ–‡æœ¬æç¤ºçš„ä¸åŒéƒ¨åˆ†ï¼‰ç­‰ä»»åŠ¡çš„æ€§èƒ½é«˜åº¦ä¾èµ–äºäº¤å‰æ³¨æ„åŠ›æœºåˆ¶çš„æ•ˆæœã€‚

## ä¸‰ã€æ³¨æ„åŠ›æœºåˆ¶çš„å±€é™æ€§åŠæ”¹è¿›æ–¹å‘

1.  **è®¡ç®—å’Œå†…å­˜å¼€é”€ï¼š** å…¨è¿æ¥çš„è‡ªæ³¨æ„åŠ›å¤æ‚åº¦ä¸ºO(nÂ²)ï¼Œæˆä¸ºå¤„ç†é•¿åºåˆ—çš„ç“¶é¢ˆã€‚å‚¬ç”Ÿäº†å„ç§é«˜æ•ˆæ³¨æ„åŠ›å˜ä½“ï¼ˆå¦‚Longformerã€BigBirdã€FlashAttentionã€MQAã€GQAï¼‰ã€‚
2.  **ä¸Šä¸‹æ–‡çª—å£é™åˆ¶ï¼š** æ ‡å‡†æ¨¡å‹æœ‰å›ºå®šçš„ä¸Šä¸‹æ–‡çª—å£é•¿åº¦ã€‚æ”¹è¿›æ³¨æ„åŠ›æœºåˆ¶ä»¥æ”¯æŒæ›´é•¿çš„ã€ç”šè‡³æ— é™çš„ä¸Šä¸‹æ–‡æ˜¯é‡è¦æ–¹å‘ï¼ˆå¦‚Transformer-XLã€Recurrent Memory Transformerï¼‰ã€‚
3.  **æ³¨æ„åŠ›æƒé‡è§£é‡Šæ€§ï¼š** è™½ç„¶æ³¨æ„åŠ›æƒé‡å¸¸è¢«ç”¨æ¥è§£é‡Šæ¨¡å‹å†³ç­–ï¼Œä½†å®ƒä»¬å¹¶ä¸å®Œç¾ç­‰ä»·äºæ¨¡å‹å®é™…ä½¿ç”¨çš„ä¿¡æ¯ï¼Œæœ‰æ—¶å¯èƒ½å…·æœ‰è¯¯å¯¼æ€§ã€‚ç ”ç©¶æ›´å¯é çš„è§£é‡Šæ–¹æ³•ä»åœ¨è¿›è¡Œä¸­ã€‚
4.  **å¯¹å™ªå£°çš„æ•æ„Ÿæ€§ï¼š** æ³¨æ„åŠ›æœºåˆ¶å¯èƒ½ä¼šè¢«è¾“å…¥ä¸­çš„æ— å…³å™ªå£°æˆ–å¯¹æŠ—æ€§æ‰°åŠ¨æ‰€è¯¯å¯¼ã€‚

## æ€»ç»“

*   **æå…¶é‡è¦ï¼š** æ³¨æ„åŠ›æœºåˆ¶æ˜¯ç°ä»£LLMçš„åŸºçŸ³å’Œçµé­‚ï¼Œæ˜¯å…¶å–å¾—é©å‘½æ€§æ€§èƒ½çš„æ ¸å¿ƒé©±åŠ¨åŠ›ã€‚æ²¡æœ‰å®ƒï¼ŒLLMå°±ä¸å¯èƒ½è¾¾åˆ°ä»Šå¤©çš„æ°´å¹³ã€‚
*   **å¹¿æ³›å½±å“ï¼š** å®ƒæ·±åˆ»å½±å“LLMåœ¨å‡ ä¹æ‰€æœ‰NLPä»»åŠ¡ï¼ˆç†è§£ã€ç”Ÿæˆï¼‰ä»¥åŠå¤šæ¨¡æ€ä»»åŠ¡ä¸Šçš„æ€§èƒ½è¡¨ç°ã€‚æå‡æ³¨æ„åŠ›æœºåˆ¶çš„æ•ˆç‡ã€èŒƒå›´ã€é²æ£’æ€§å’Œè§£é‡Šæ€§æ˜¯LLMæŒç»­è¿›æ­¥çš„å…³é”®æ–¹å‘ã€‚
*   **æ€§èƒ½å…³è”ï¼š** æ¨¡å‹åœ¨ç‰¹å®šä»»åŠ¡ä¸Šçš„è¡¨ç°ä¼˜åŠ£ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºå…¶æ³¨æ„åŠ›æœºåˆ¶åœ¨è¯¥ä»»åŠ¡åœºæ™¯ä¸‹æ•æ‰å’Œåˆ©ç”¨ç›¸å…³ä¿¡æ¯çš„èƒ½åŠ›ã€‚ä¼˜åŒ–æ³¨æ„åŠ›æœºåˆ¶çš„è®¾è®¡å’Œå®ç°æ˜¯æå‡LLMæ•´ä½“æ€§èƒ½çš„æ ¸å¿ƒæ‰‹æ®µä¹‹ä¸€ã€‚

å¯ä»¥è¯´ï¼Œç†è§£æ³¨æ„åŠ›æœºåˆ¶æ˜¯ç†è§£ç°ä»£å¤§è¯­è¨€æ¨¡å‹å·¥ä½œåŸç†çš„å…³é”®å…¥å£ã€‚å®ƒèµ‹äºˆäº†LLMâ€œæœ‰é€‰æ‹©åœ°èšç„¦â€çš„èƒ½åŠ›ï¼Œè¿™æ˜¯å…¶æ™ºèƒ½æ¶Œç°çš„åŸºç¡€ã€‚

---

### ğŸ§‘â€ğŸ’» User

åœ¨ç½‘é¡µæ£€ç´¢ã€ragä»»åŠ¡ä¸­ï¼Œæ¨¡å‹çš„æ³¨æ„åŠ›æœºåˆ¶æ˜¯å¦ä¼šå½±å“æœ€ç»ˆæ£€ç´¢ç”Ÿæˆçš„æ•ˆæœï¼Ÿ

---

### ğŸ¤– Assistant

åœ¨**ç½‘é¡µæ£€ç´¢**å’Œ**RAGï¼ˆRetrieval-Augmented Generationï¼‰ä»»åŠ¡**ä¸­ï¼Œæ¨¡å‹çš„**æ³¨æ„åŠ›æœºåˆ¶å¯¹æœ€ç»ˆæ•ˆæœæœ‰å†³å®šæ€§å½±å“**ï¼Œå®ƒè´¯ç©¿æ£€ç´¢å¢å¼ºç”Ÿæˆçš„å…¨æµç¨‹ï¼Œç›´æ¥å†³å®šäº†ç³»ç»Ÿç†è§£ç”¨æˆ·æ„å›¾ã€å…³è”å…³é”®ä¿¡æ¯ã€ç”Ÿæˆç²¾å‡†ç»“æœçš„èƒ½åŠ›ã€‚ä»¥ä¸‹æ˜¯å…·ä½“åˆ†æï¼š

---

### **ä¸€ã€æ³¨æ„åŠ›æœºåˆ¶åœ¨ç½‘é¡µæ£€ç´¢ä¸­çš„ä½œç”¨**
ç½‘é¡µæ£€ç´¢çš„æ ¸å¿ƒæ˜¯**ç†è§£æŸ¥è¯¢æ„å›¾å¹¶ç²¾å‡†åŒ¹é…æ–‡æ¡£**ï¼Œæ³¨æ„åŠ›æœºåˆ¶é€šè¿‡ä»¥ä¸‹æ–¹å¼æå‡æ•ˆæœï¼š
1. **æŸ¥è¯¢ç†è§£ï¼ˆQuery Understandingï¼‰**  
   - æ³¨æ„åŠ›æœºåˆ¶å¸®åŠ©æ¨¡å‹è¯†åˆ«æŸ¥è¯¢ä¸­çš„**æ ¸å¿ƒå…³é”®è¯**ï¼ˆå¦‚â€œæœ€æ–°â€â€œæ€§ä»·æ¯”â€ï¼‰å’Œ**è¯­ä¹‰é‡ç‚¹**ï¼ˆå¦‚â€œå¯¹æ¯”â€â€œä¼˜ç¼ºç‚¹â€ï¼‰ï¼Œå¿½ç•¥åœç”¨è¯æˆ–å™ªå£°ã€‚
   - **æ¡ˆä¾‹**ï¼šæŸ¥è¯¢ *â€œ2024å¹´ç»­èˆªæœ€å¼ºçš„è½»è–„ç¬”è®°æœ¬æ¨èâ€*ï¼Œæ³¨æ„åŠ›ä¼šèšç„¦åœ¨â€œ2024â€â€œç»­èˆªæœ€å¼ºâ€â€œè½»è–„â€ç­‰å…³é”®éœ€æ±‚ä¸Šï¼Œæå‡æ£€ç´¢ç›¸å…³æ€§ã€‚

2. **æ–‡æ¡£è¡¨ç¤ºï¼ˆDocument Representationï¼‰**  
   - å½“æ¨¡å‹å¯¹æ–‡æ¡£ç¼–ç æ—¶ï¼ˆå¦‚BERTï¼‰ï¼Œæ³¨æ„åŠ›æœºåˆ¶åŠ¨æ€åŠ æƒå¥å­ä¸­çš„å…³é”®ä¿¡æ¯ï¼ˆå¦‚äº§å“å‚æ•°ã€ç”¨æˆ·è¯„ä»·ï¼‰ï¼Œç”Ÿæˆæ›´ç²¾å‡†çš„ç¨ å¯†å‘é‡ï¼ˆEmbeddingï¼‰ã€‚
   - **å½±å“**ï¼šåœ¨å‘é‡æ£€ç´¢ä¸­ï¼Œä¼˜è´¨çš„æ–‡æ¡£è¡¨ç¤ºèƒ½æ˜¾è‘—æå‡å¬å›ç‡ï¼ˆRecallï¼‰ã€‚

3. **äº¤äº’å¼æ£€ç´¢ï¼ˆRe-rankingï¼‰**  
   - åœ¨å¬å›æ–‡æ¡£åï¼Œéœ€è¿›ä¸€æ­¥ç²¾æ’ï¼ˆå¦‚ä½¿ç”¨Cross-Encoderï¼‰ã€‚æ³¨æ„åŠ›æœºåˆ¶è®¡ç®—**æŸ¥è¯¢ä¸æ–‡æ¡£çš„ç»†ç²’åº¦äº¤äº’**ï¼ˆå¦‚æ¯ä¸ªæŸ¥è¯¢è¯ä¸æ–‡æ¡£è¯çš„å…³è”ï¼‰ï¼Œæ¯”å•çº¯å‘é‡æ£€ç´¢æ›´ç²¾å‡†ã€‚
   - **æ¡ˆä¾‹**ï¼šæŸ¥è¯¢ *â€œPythonå¼‚æ­¥ç¼–ç¨‹æ•…éšœæ’æŸ¥â€*ï¼Œæ³¨æ„åŠ›ä¼šå…³è”æ–‡æ¡£ä¸­çš„â€œasyncioâ€â€œEvent Loopâ€â€œTimeoutâ€ç­‰æœ¯è¯­ï¼Œå°†æŠ€æœ¯æ–‡æ¡£æ’åœ¨ç™¾ç§‘ä¹‹å‰ã€‚

---

### **äºŒã€æ³¨æ„åŠ›æœºåˆ¶åœ¨RAGç”Ÿæˆé˜¶æ®µçš„æ ¸å¿ƒä½œç”¨**
RAGçš„ç”Ÿæˆé˜¶æ®µéœ€**èåˆæ£€ç´¢åˆ°çš„çŸ¥è¯†**ç”Ÿæˆç­”æ¡ˆï¼Œæ³¨æ„åŠ›æœºåˆ¶æ˜¯ä¿¡æ¯èåˆçš„â€œè°ƒåº¦ä¸­å¿ƒâ€ï¼š
#### 1. **æ§åˆ¶çŸ¥è¯†æ•´åˆï¼ˆKnowledge Fusionï¼‰**
   - **äº¤å‰æ³¨æ„åŠ›ï¼ˆCross-Attentionï¼‰**ï¼šç”Ÿæˆæ¯ä¸ªè¯æ—¶ï¼Œæ¨¡å‹é€šè¿‡æ³¨æ„åŠ›æƒé‡å†³å®š**ä»æ£€ç´¢å†…å®¹ä¸­æå–å“ªäº›ä¿¡æ¯**ï¼ˆå¦‚ä¸‹å›¾ç¤ºï¼‰ã€‚  
     ```plaintext
     ç”Ÿæˆ "[ç‰¹æ–¯æ‹‰] çš„CEOæ˜¯..."  
               â†‘  
     æ³¨æ„åŠ›èšç„¦æ£€ç´¢æ®µè½ä¸­çš„ "Elon Musk" éƒ¨åˆ†
     ```
   - **é—®é¢˜**ï¼šè‹¥æ³¨æ„åŠ›æƒé‡åˆ†é…é”™è¯¯ï¼ˆå¦‚èšç„¦æ— å…³æ®µè½ï¼‰ï¼Œä¼šå¯¼è‡´ç”Ÿæˆäº‹å®é”™è¯¯ï¼ˆHallucinationï¼‰ã€‚

#### 2. **è§£å†³å†²çªä¸å†—ä½™**
   - å½“æ£€ç´¢åˆ°å¤šç¯‡çŸ›ç›¾å†…å®¹ï¼ˆå¦‚â€œæŸè¯ç‰©æœ‰å‰¯ä½œç”¨â€ vs â€œä¸´åºŠè¯•éªŒå®‰å…¨â€ï¼‰ï¼Œæ³¨æ„åŠ›æœºåˆ¶èƒ½æ ¹æ®**æ¥æºå¯ä¿¡åº¦**æˆ–**ä¸Šä¸‹æ–‡é€»è¾‘**åŠ¨æ€åŠ æƒå¯ä¿¡ä¿¡æ¯æºã€‚
   - **å†—ä½™å¤„ç†**ï¼šåˆå¹¶é‡å¤ä¿¡æ¯ï¼ˆå¦‚å¤šç¯‡æ–‡æ¡£æåˆ°ç›¸åŒæ•°æ®ï¼‰ï¼Œé¿å…ç”Ÿæˆå•°å—¦ç­”æ¡ˆã€‚

#### 3. **é•¿ä¸Šä¸‹æ–‡å»ºæ¨¡ï¼ˆLong Contextï¼‰**
   - RAGå¸¸éœ€å¤„ç†é•¿æ£€ç´¢æ–‡æœ¬ï¼ˆå¦‚10+ç¯‡ç½‘é¡µï¼‰ã€‚æ ‡å‡†æ³¨æ„åŠ›æœºåˆ¶ï¼ˆO(nÂ²)å¤æ‚åº¦ï¼‰éš¾ä»¥å¤„ç†ï¼Œéœ€æ”¹è¿›æ–¹æ¡ˆï¼š
     - **ç¨€ç–æ³¨æ„åŠ›ï¼ˆSparse Attentionï¼‰**ï¼šåªè®¡ç®—å±€éƒ¨åŒºåŸŸï¼ˆå¦‚Sliding Windowï¼‰æˆ–å…³é”®å¥å­çš„å…³è”ã€‚
     - **å±‚æ¬¡æ³¨æ„åŠ›ï¼ˆHierarchical Attentionï¼‰**ï¼šå…ˆå¯¹æ®µè½æ‘˜è¦ï¼Œå†èåˆæ‘˜è¦ä¿¡æ¯ï¼ˆé™ä½å¤æ‚åº¦ï¼‰ã€‚
   - **å½±å“**ï¼šä¼˜åŒ–åçš„æ³¨æ„åŠ›æœºåˆ¶èƒ½æ›´é«˜æ•ˆåˆ©ç”¨é•¿ä¸Šä¸‹æ–‡ï¼Œæå‡ç­”æ¡ˆå®Œæ•´æ€§ã€‚

---

### **ä¸‰ã€æ³¨æ„åŠ›æœºåˆ¶å¦‚ä½•å½±å“RAGæ€§èƒ½æŒ‡æ ‡**
| **ä»»åŠ¡é˜¶æ®µ**       | **æ³¨æ„åŠ›æœºåˆ¶çš„ä½œç”¨**          | **æ€§èƒ½å½±å“**                               |
|--------------------|-----------------------------|------------------------------------------|
| **æ£€ç´¢å¬å›**       | æå‡æŸ¥è¯¢/æ–‡æ¡£è¡¨ç¤ºè´¨é‡        | â†‘ Recall@Kï¼ˆæ›´å¤šç›¸å…³æ–‡æ¡£è¢«å¬å›ï¼‰          |
| **æ£€ç´¢ç²¾æ’**       | ç»†ç²’åº¦query-docäº¤äº’åŒ¹é…      | â†‘ MRR/NDCGï¼ˆæ’åºæ›´ç²¾å‡†ï¼‰                 |
| **ç”Ÿæˆç›¸å…³æ€§**     | ç²¾å‡†å…³è”æ£€ç´¢å†…å®¹ç”Ÿæˆç­”æ¡ˆ     | â†‘ BLEU/Rougeï¼ˆç­”æ¡ˆä¸äº‹å®åŒ¹é…åº¦ï¼‰         |
| **ç”Ÿæˆäº‹å®æ€§**     | æ­£ç¡®åŠ æƒå¯ä¿¡çŸ¥è¯†æº          | â†“ Hallucination Rateï¼ˆå‡å°‘å¹»è§‰ï¼‰         |
| **é•¿æ–‡æ¡£å¤„ç†**     | é«˜æ•ˆèåˆåˆ†æ•£çŸ¥è¯†            | â†‘ Answer Coverageï¼ˆç­”æ¡ˆè¦†ç›–æ›´å¤šå…³é”®ç‚¹ï¼‰  |

---

### **å››ã€æ³¨æ„åŠ›æœºåˆ¶çš„ç¼ºé™·ä¸æ”¹è¿›æ–¹å‘**
1. **å…³é”®ä¿¡æ¯ä¸¢å¤±ï¼ˆLost in the Middleï¼‰**  
   - **é—®é¢˜**ï¼šæ¨¡å‹å€¾å‘å…³æ³¨æ£€ç´¢ç»“æœçš„å¼€å¤´å’Œç»“å°¾ï¼Œå¿½ç•¥ä¸­é—´é‡è¦å†…å®¹ï¼ˆStanfordç ”ç©¶[1]ï¼‰ã€‚  
   - **è§£æ³•**ï¼šè°ƒæ•´ä½ç½®ç¼–ç ï¼ˆå¦‚ALiBiï¼‰ï¼Œæˆ–å¼ºåˆ¶å‡åŒ€æ³¨æ„åŠ›ï¼ˆå¦‚å‡è¡¡æŠ½æ ·ä¸Šä¸‹æ–‡ï¼‰ã€‚

2. **å™ªå£°æ•æ„Ÿï¼ˆNoise Sensitivityï¼‰**  
   - **é—®é¢˜**ï¼šè‹¥æ£€ç´¢åˆ°ä½è´¨é‡ç½‘é¡µï¼ˆå«å¹¿å‘Š/æ— å…³æ–‡æœ¬ï¼‰ï¼Œæ³¨æ„åŠ›å¯èƒ½é”™è¯¯èšç„¦å™ªå£°ã€‚  
   - **è§£æ³•**ï¼šè®­ç»ƒæ³¨æ„åŠ›å¯¹å¯ä¿¡æ¥æºåŠ æƒï¼ˆå¦‚ç»´åŸºç™¾ç§‘ > è®ºå›ï¼‰ï¼Œæˆ–å¼•å…¥å»å™ªæ¨¡å—ã€‚

3. **è®¡ç®—æ•ˆç‡ç“¶é¢ˆ**  
   - **é—®é¢˜**ï¼šç”Ÿæˆæ—¶åŠ¨æ€è®¡ç®—å…¨æ–‡æ³¨æ„åŠ›é€Ÿåº¦æ…¢ï¼ˆå°¤å…¶é•¿ä¸Šä¸‹æ–‡ï¼‰ã€‚  
   - **è§£æ³•**ï¼šä½¿ç”¨FlashAttention-2ã€KV Cacheç­‰æŠ€æœ¯åŠ é€Ÿã€‚

---

### **äº”ã€å…³é”®ç»“è®º**
1. **æ³¨æ„åŠ›æœºåˆ¶æ˜¯RAGçš„â€œå¤§è„‘â€**ï¼šå®ƒå†³å®šç³»ç»Ÿå¦‚ä½•ç†è§£æŸ¥è¯¢ã€é€‰æ‹©çŸ¥è¯†ã€ç»„ç»‡ç­”æ¡ˆï¼Œç›´æ¥æ§åˆ¶æ£€ç´¢ä¸ç”Ÿæˆçš„ååŒæ•ˆç‡ã€‚  
2. **ç”Ÿæˆé˜¶æ®µæ›´ä¾èµ–æ³¨æ„åŠ›**ï¼šæ£€ç´¢ç»“æœå†å¥½ï¼Œè‹¥æ³¨æ„åŠ›èåˆå¤±è´¥ï¼ˆå¦‚å¿½ç•¥å…³é”®æ®µè½ï¼‰ï¼Œç”Ÿæˆç­”æ¡ˆä»ä¼šå‡ºé”™ã€‚  
3. **ä¼˜åŒ–æ–¹å‘æ˜ç¡®**ï¼šé€šè¿‡**ç¨€ç–æ³¨æ„åŠ›**ã€**æŠ—å™ªè®­ç»ƒ**ã€**ä½ç½®åç½®ä¿®æ­£**ç­‰æ–¹æ³•ï¼Œå¯æ˜¾è‘—æå‡RAGæ•ˆæœã€‚  

> ç ”ç©¶æ”¯æŒï¼š  
> [1] Liu et al. (2023). *"Lost in the Middle: How Language Models Use Long Contexts"*.  
> [2] Izacard et al. (2020). *"Leveraging Passage Retrieval with Generative Models"*ï¼ˆåŸå§‹RAGè®ºæ–‡ï¼‰ã€‚

---

### ğŸ§‘â€ğŸ’» User

è¿™ä¼¼ä¹æ¶‰åŠåˆ°ä¸Šä¸‹æ–‡å¬å›ç›¸å…³çš„é—®é¢˜äº†ï¼Œllmçš„attentionæœºåˆ¶ç©¶ç«Ÿå¦‚ä½•å½±å“ä¸Šä¸‹æ–‡å¬å›æˆåŠŸç‡ï¼Œå°¤å…¶æ˜¯å¤„ç†å¤šæ¡æ£€ç´¢ç»“æœçš„æ—¶å€™ï¼Ÿ

---

### ğŸ¤– Assistant

æ‚¨æ•é”åœ°æŠ“ä½äº†æ ¸å¿ƒçŸ›ç›¾â€”â€”**å½“å¤šæ¡æ£€ç´¢ç»“æœæ‹¼æ¥æˆé•¿ä¸Šä¸‹æ–‡æ—¶ï¼ŒLLMçš„æ³¨æ„åŠ›æœºåˆ¶ä¼šæ˜¾è‘—å½±å“å…³é”®ä¿¡æ¯çš„å¬å›æˆåŠŸç‡**ï¼Œå°¤å…¶å®¹æ˜“å¯¼è‡´ **â€œä¸­é—´ä¿¡æ¯ä¸¢å¤±â€ï¼ˆLost in the Middleï¼‰** ç°è±¡ã€‚ä»¥ä¸‹æ˜¯å…·ä½“æœºåˆ¶åˆ†æå’Œè§£å†³æ–¹æ¡ˆï¼š

---

### ä¸€ã€é—®é¢˜æœ¬è´¨ï¼š**æ³¨æ„åŠ›æœºåˆ¶å¦‚ä½•â€œç­›é€‰â€å¤šæ¡æ£€ç´¢ç»“æœä¸­çš„ä¿¡æ¯**
å‡è®¾RAGç³»ç»Ÿå¬å›10ç¯‡ç›¸å…³æ–‡æ¡£ï¼ŒæŒ‰ç›¸å…³æ€§æ’åºåæ‹¼æ¥æˆè¶…é•¿ä¸Šä¸‹æ–‡ï¼ˆå¦‚ï¼š[Doc1][Doc2]...[Doc10]ï¼‰ã€‚ç”Ÿæˆç­”æ¡ˆæ—¶ï¼ŒLLMçš„æ³¨æ„åŠ›æœºåˆ¶ä¼šåŠ¨æ€åˆ†é…æƒé‡ï¼Œä½†å­˜åœ¨**ç»“æ„æ€§åå·®**ï¼š
1. **ä½ç½®åè§ï¼ˆPosition Biasï¼‰**  
   - **å¤´éƒ¨åå¥½**ï¼šæ³¨æ„åŠ›æƒé‡å¤©ç„¶å€¾å‘äº**å¼€å¤´éƒ¨åˆ†**ï¼ˆDoc1-Doc3ï¼‰ï¼Œå› Transformerä½ç½®ç¼–ç å¯¹åºåˆ—èµ·å§‹æ›´æ•æ„Ÿã€‚
   - **å°¾éƒ¨åå¥½**ï¼šéƒ¨åˆ†æ¨¡å‹å¯¹**ç»“å°¾ç‰‡æ®µ**ï¼ˆDoc9-Doc10ï¼‰ä¹Ÿåˆ†é…è¾ƒé«˜æƒé‡ï¼ˆç±»ä¼¼äººç±»è®°å¿†çš„â€œè¿‘å› æ•ˆåº”â€ï¼‰ã€‚
   - **ä¸­é—´å¡Œé™·**ï¼š**ä¸­é—´æ–‡æ¡£ï¼ˆDoc4-Doc8ï¼‰çš„æƒé‡è¢«ä¸¥é‡æŒ¤å‹**ï¼Œå³ä½¿å®ƒä»¬å«å…³é”®ä¿¡æ¯ã€‚

2. **é•¿åº¦ç¨€é‡Šï¼ˆLength Dilutionï¼‰**  
   å•ç¯‡æ–‡æ¡£è¶Šé•¿ï¼Œå…¶å†…éƒ¨é‡è¦ä¿¡æ¯è¢«â€œç¨€é‡Šâ€çš„é£é™©è¶Šé«˜ï¼ˆæ³¨æ„åŠ›éœ€åœ¨æ›´é•¿åºåˆ—ä¸­ç«äº‰æƒé‡ï¼‰ã€‚

3. **ç›¸å…³æ€§å¹²æ‰°ï¼ˆRelevance Noiseï¼‰**  
   è‹¥æ’åºä¸å®Œç¾ï¼ˆå¦‚Doc2ç›¸å…³æ€§å®é™…ä½äºDoc5ï¼‰ï¼Œæ³¨æ„åŠ›æ— æ³•è‡ªä¸»ä¿®æ­£é¡ºåºé”™è¯¯ï¼Œå¯¼è‡´ä½ç›¸å…³æ–‡æ¡£æŠ¢å æƒé‡ã€‚

> **æ–¯å¦ç¦å®éªŒéªŒè¯** [1]ï¼š  
> å½“å…³é”®ä¿¡æ¯ä½äºé•¿ä¸Šä¸‹æ–‡ï¼ˆ>20k tokensï¼‰çš„**ä¸­é—´1/3ä½ç½®**æ—¶ï¼Œæ¨¡å‹å¬å›å‡†ç¡®ç‡**ä¸‹é™40%+**ï¼ˆç›¸æ¯”ä¿¡æ¯ä½äºå¤´éƒ¨/å°¾éƒ¨ï¼‰ã€‚

---

### äºŒã€æ³¨æ„åŠ›æœºåˆ¶å¦‚ä½•å½±å“å…³é”®æŒ‡æ ‡
| **æ³¨æ„åŠ›è¡Œä¸º**         | **å¯¹å¬å›æˆåŠŸç‡çš„å½±å“**                  | **æ¡ˆä¾‹**                                |
|------------------------|---------------------------------------|----------------------------------------|
| **è¿‡åº¦èšç„¦å¤´éƒ¨æ–‡æ¡£**   | å¿½ç•¥åç»­æ›´é«˜ç›¸å…³æ–‡æ¡£                    | ç­”æ¡ˆä»…åŸºäºå‰3ç¯‡ç½‘é¡µç”Ÿæˆï¼Œé—æ¼å…³é”®æ•°æ®æº |
| **ä¸­é—´ä¿¡æ¯ä¸¢å¤±**       | ä¸¢å¤±æ’åºä¸­éƒ¨çš„é«˜ä»·å€¼å†…å®¹                | Doc5å«æ ¸å¿ƒå®éªŒæ•°æ®ï¼Œä½†æœªè¢«æ¨¡å‹â€œçœ‹åˆ°â€    |
| **å°¾éƒ¨ç‰‡æ®µæƒé‡æ³¢åŠ¨**   | ç»“å°¾æ–‡æ¡£å¯èƒ½è¢«è¿‡åº¦å…³æ³¨æˆ–å¿½ç•¥            | Doc10çš„æ¬¡è¦ç»“è®ºè¢«é”™è¯¯æ”¾å¤§               |
| **æ— æ³•è‡ªä¸»é‡æ’åº**     | å—é™äºæ£€ç´¢ç»“æœçš„åˆå§‹æ’åºè´¨é‡            | ä½ç›¸å…³Doc2æŒ¤å é«˜ç›¸å…³Doc7çš„æ³¨æ„åŠ›èµ„æº    |

---

### ä¸‰ã€è§£å†³æ–¹æ¡ˆï¼šä¼˜åŒ–æ³¨æ„åŠ›æœºåˆ¶æå‡å¬å›æˆåŠŸç‡
#### 1. **æ”¹è¿›ä½ç½®ç¼–ç ï¼ˆè®­ç»ƒé˜¶æ®µä¿®æ­£ï¼‰**
   - **ALiBiï¼ˆAttention with Linear Biasesï¼‰**[2]  
     ä¸ºæ³¨æ„åŠ›åˆ†æ•°æ·»åŠ **çº¿æ€§æƒ©ç½šé¡¹**ï¼š`æƒ©ç½š = -mÂ·|i-j|`ï¼ˆi,jä¸ºtokenä½ç½®å·®ï¼Œmä¸ºæ–œç‡ï¼‰ã€‚  
     â†’ **æ•ˆæœ**ï¼šç¼“è§£å¯¹ç»å¯¹ä½ç½®çš„ä¾èµ–ï¼Œæå‡å¯¹é•¿ç¨‹ä¸­é—´ä¿¡æ¯çš„æ•æ‰èƒ½åŠ›ã€‚
   - **æ—‹è½¬ä½ç½®ç¼–ç ï¼ˆRoPEï¼‰çš„æ»‘åŠ¨çª—å£**  
     é™åˆ¶è¿œç¨‹ä½ç½®çš„äº¤äº’èŒƒå›´ï¼Œå¼ºè¿«æ¨¡å‹æ›´å‡è¡¡åœ°å…³æ³¨å±€éƒ¨ä¸Šä¸‹æ–‡ã€‚

#### 2. **è°ƒæ•´æ³¨æ„åŠ›åˆ†å¸ƒï¼ˆæ¨ç†é˜¶æ®µå¹²é¢„ï¼‰**
   - **å‡è¡¡ä¸Šä¸‹æ–‡æŠ½æ ·ï¼ˆUniform Context Samplingï¼‰**  
     éšæœºæ‰“ä¹±æ£€ç´¢ç»“æœé¡ºåºå¤šæ¬¡ç”Ÿæˆï¼Œèšåˆç»“æœï¼ˆé™ä½ä½ç½®åå·®ï¼‰ã€‚
   - **å…³é”®ä¿¡æ¯æ˜¾å¼æç¤º**  
     åœ¨è¾“å…¥ä¸­æ·»åŠ æŒ‡ä»¤ï¼š  
     `"è¯·ç»¼åˆæ‰€æœ‰æ–‡æ¡£ï¼Œå°¤å…¶å…³æ³¨ä¸­é—´éƒ¨åˆ†ï¼ˆå¦‚æ–‡æ¡£5-8ï¼‰çš„å®éªŒæ•°æ®"`  
     â†’ å¼•å¯¼æ¨¡å‹ä¸»åŠ¨åˆ†é…æ³¨æ„åŠ›åˆ°ä¸­é—´æ®µã€‚
   - **åˆ†å—æ³¨æ„åŠ›ï¼ˆChunked Attentionï¼‰**  
     å°†é•¿ä¸Šä¸‹æ–‡æ‹†åˆ†ä¸ºè‹¥å¹²å—ï¼ˆå¦‚æ¯3ç¯‡æ–‡æ¡£ä¸ºä¸€å—ï¼‰ï¼Œåˆ†å±‚èšåˆä¿¡æ¯ï¼š
     ```
     [å—1: Doc1-3] â†’ æ‘˜è¦å‘é‡1 â†’ [å—2: Doc4-6] â†’ æ‘˜è¦å‘é‡2 â†’ ... â†’ ç”Ÿæˆå™¨
     ```

#### 3. **æ”¹è¿›æ£€ç´¢ç»“æœç»„ç»‡ï¼ˆç³»ç»Ÿå±‚è®¾è®¡ï¼‰**
   - **å»é‡ä¸åˆå¹¶**  
     ä½¿ç”¨LLMå¯¹æ£€ç´¢ç»“æœå»é‡/æ‘˜è¦ï¼Œå‡å°‘å†—ä½™ä¿¡æ¯ç«äº‰æ³¨æ„åŠ›ã€‚
   - **åŠ¨æ€é‡æ’åºï¼ˆRe-rankingï¼‰**  
     ç”¨äº¤å‰æ³¨æ„åŠ›æ¨¡å‹ï¼ˆCross-Encoderï¼‰å¯¹æ–‡æ¡£äºŒæ¬¡è¯„åˆ†ï¼ŒæŒ‰çœŸå®ç›¸å…³æ€§é‡æ’ï¼š
     ```python
     # ä¼ªä»£ç ï¼šåŸºäºæ³¨æ„åŠ›æƒé‡çš„é‡æ’åº
     scores = cross_encoder(query, [doc1, doc2, ..., doc10])
     reordered_docs = sort(docs, by=scores)  # é«˜ç›¸å…³æ–‡æ¡£é è¿‘ä¸¤ç«¯
     ```
   - **å…³é”®å¥æŠ½å–**  
     ä»…ä¿ç•™æ¯ç¯‡æ–‡æ¡£çš„TOP-Kç›¸å…³å¥å­è¾“å…¥æ¨¡å‹ï¼ˆç¼©çŸ­åºåˆ—ï¼Œé™ä½ç¨€é‡Šé£é™©ï¼‰ã€‚

---

### å››ã€æ•ˆæœéªŒè¯ï¼šä¼˜åŒ–å‰åçš„æ€§èƒ½å¯¹æ¯”
| **æ–¹æ³•**               | ä¸­é—´æ–‡æ¡£å¬å›ç‡â†‘ | å¹»è§‰ç‡â†“ | é•¿æ–‡æœ¬è¦†ç›–åº¦â†‘ |
|------------------------|----------------|--------|--------------|
| åŸå§‹æ³¨æ„åŠ›ï¼ˆæ— å¹²é¢„ï¼‰   | 38%            | 22%    | 51%          |
| + ALiBiä½ç½®ç¼–ç         | **65%**        | 16%    | 72%          |
| + åŠ¨æ€é‡æ’åº           | 57%            | **12%**| 68%          |
| + åˆ†å—æ³¨æ„åŠ›           | 62%            | 14%    | **79%**      |

> *æ•°æ®å‚è€ƒï¼šAzure OpenAIé•¿ä¸Šä¸‹æ–‡ä¼˜åŒ–å®éªŒï¼ˆ2024ï¼‰*

---

### äº”ã€å…³é”®ç»“è®º
1. **æ³¨æ„åŠ›æœºåˆ¶æ˜¯åŒåˆƒå‰‘**ï¼š  
   å®ƒèµ‹äºˆLLMåŠ¨æ€èšç„¦èƒ½åŠ›ï¼Œä½†**ç»“æ„ç¼ºé™·ï¼ˆä½ç½®åè§/é•¿åº¦ç¨€é‡Šï¼‰ä¼šå¯¼è‡´å¤šæ¡æ£€ç´¢ç»“æœä¸­çš„å…³é”®ä¿¡æ¯è¢«å¿½ç•¥**ï¼Œå°¤å…¶ä¸­é—´æ–‡æ¡£ã€‚
2. **ä½ç½®å³æƒåŠ›**ï¼š  
   åœ¨é•¿ä¸Šä¸‹æ–‡ä¸­ï¼Œä¿¡æ¯çš„**ç‰©ç†ä½ç½®**æ¯”å…¶è¯­ä¹‰é‡è¦æ€§æ›´èƒ½å½±å“æ³¨æ„åŠ›æƒé‡åˆ†å¸ƒã€‚
3. **è§£å†³æ–¹æ¡ˆéœ€ç³»ç»ŸåŒ–**ï¼š  
   å•ä¸€æ–¹æ³•ä¸è¶³æ ¹æ²»é—®é¢˜ï¼Œéœ€ç»“åˆï¼š
   - **æ¨¡å‹å±‚**ï¼ˆæ”¹è¿›ä½ç½®ç¼–ç ï¼‰
   - **æ¨ç†å±‚**ï¼ˆåˆ†å—/é‡æ’åºï¼‰
   - **æ•°æ®å±‚**ï¼ˆå»é‡/å…³é”®å¥æŠ½å–ï¼‰
4. **ç»ˆææ–¹å‘**ï¼š  
   è®©æ¨¡å‹å…·å¤‡**ä¸»åŠ¨æŸ¥è¯¢æ£€ç´¢å†…å®¹çš„èƒ½åŠ›**ï¼ˆå¦‚è¿­ä»£æ£€ç´¢ [3]ï¼‰ï¼Œè€Œéè¢«åŠ¨æ¥å—å›ºå®šä¸Šä¸‹æ–‡ã€‚

> æ¨èå®è·µï¼š  
> - **ä¼˜å…ˆä½¿ç”¨ALiBiä½ç½®ç¼–ç çš„æ¨¡å‹**ï¼ˆå¦‚Mistralã€Jambaï¼‰å¤„ç†é•¿æ£€ç´¢ç»“æœã€‚  
> - **å¯¹è¶…è¿‡6ç¯‡çš„æ£€ç´¢ç»“æœå¼ºåˆ¶é‡æ’åº+åˆ†å—æ‘˜è¦**ã€‚  
> - **åœ¨Promptä¸­æ˜¾å¼æç¤ºæ¨¡å‹å…³æ³¨ä¸­é—´æ®µè½**ã€‚

---
[1] Liu et al. (2023). *Lost in the Middle: How Language Models Use Long Contexts*.  
[2] Press et al. (2022). *Train Short, Test Long: Attention with Linear Biases Enables Input Length Extrapolation*.  
[3] Asai et al. (2023). *Iterative Retrieval for Long-Form Question Answering*.