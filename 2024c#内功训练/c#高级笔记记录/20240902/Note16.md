# C#高级编程之——Json操作（二）

在上节教程中，我们对json的基本概念、结构、优势有了简单的了解，并知道了json可以转换成c#代码，知道json可以作为数据传输的载体，今天我们继续学习json的数据结构与语法规则。

**三、JSON 语法规则**

- 数据在键值对中
- 数据由逗号分隔
- 花括号保存对象
- 方括号保存数组

1. JSON 名称/值对：
   - JSON 数据的书写格式是：名称/值对。
   - 名称/值对组合中的名称写在前面（在双引号中），值对写在后面(同样在双引号中)，中间
   - 用冒号隔开："firstName":"John"
2. JSON 值可以是：
   - 数字（整数或浮点数）
   - 字符串（在双引号中）
   - 逻辑值（true 或 false）
   - 数组（在方括号中）
   - 对象（在花括号中）
   - null

举例：

```json
{
    "sites": [
        {
            "name": "米游社",
            "url": "www.miyoushe.com"
        },
        {
            "name": "崩坏三",
            "url": "www.bh3.com"
        },
        {
            "name": "崩坏：星穹铁道",
            "url": "sr.mihoyo.com"
        }
    ]
}
```

比如第一个对象中，name与"米游社"就构成了一个键值对，name是属性名称即键，"米游社"是值。键值对之间以 : 隔开，属性与属性之间以 , 隔开，对象则是 {} 内为一个对象，对象数组是以 [] 括起来的。注意：键必须加上""，如果值为string类型需要加上""符号，如果为数字、bool类型则无需，其余以此类推。

**四、JSON数据结构**

json简单说就是javascript中的对象和数组，所以这两种结构就是对象和数组两种结构，通过这两种结构可以表示各种复杂的结构

1. 对象（Object）：对象在js中表示为“{}”括起来的内容，数据结构为 {key：value,key：value,...}的键值对的结构，在面向对象的语言中，key为对象的属性，value为对应的属性值，所以很容易理解，取值方法为 对象.key （c# 对象[key]）获取属性值，这个属性值的类型可以是 数字、字符串、数组、对象几种。

2. 数组（Array）：数组在js中是中括号“[]”括起来的内容，数据结构为["java","javascript","vb",...]，取值方式和所有语言中一样，使用索引获取，字段值的类型可以是 数字、字符串、数组、对象几种。

经过对象、数组2种结构就可以组合成复杂的数据结构了。

**五、.Net 中提供的JSON解析组件**

- Newtonsoft.Json
- fastjson
- System.Text.Json

**六、Json的序列化与反序列化**

众所周知，json在数据传输场景很常用（例如配置表、网络通信），这就涉及到序列化和反序列化的问题，那什么是序列化与反序列化呢？

- 序列化（Serialization）：序列化是指将数据结构或对象状态转换成可以存储或传输的形式（如二进制格式或文本格式，如JSON、XML等）的过程。
- 反序列化（Deserialization）：反序列化是序列化的逆过程，它是指将序列化后的数据（如从文件、数据库或网络接收的数据）转换回原始的数据结构或对象状态的过程。

省流：对象转换为json字符串——序列化，json字符串转换为对象——反序列化。

那我们在dotnet中如何将C#对象和json字符串如何互相转化？
