# Unity 组件间交互

Unity 中，整个编程框架都是基于组件的，因为脚本本身就是组件。

脚本中基本的游戏逻辑，就是在操作不同游戏对象中的各个组件，了解和掌握组件间交互方式，是学习 Unity 代码开发的基础

用白话来讲，就是能够在代码中，方便高效的获取到你想操作的对象或组件

## 1. 通过游戏对象间接调用组件

1. 找到需要操作的组件所在游戏对象，获取其引用；
2. 根据游戏对象，通过 GetComponent 获取到要操作的组件的引用；
3. 更改组件的属性，或调用组件的方法

## 2. inspector 中直接挂接，并调用 组件

1. 脚本中声明一个可以在 inspector 中访问的字段，用来获取组件；
2. 在 inspector 中，关联组件；
3. 直接在脚本中使用这个组件

## 3. 尽量避免使用的代码

虽然 Unity 官方文档上说，一些 FindXXX() 方法，性能已经进行了很好的优化；但实际上，能少用就少用，尽量不用，因为从算法上，就根本不可能性能高到哪儿去，而且实测确实也不怎么样。

因此，尽量避免在代码中使用如下方法：

``` C#
// 根据游戏对象名称，查找当前场景内的指定游戏对象
GameObject.Find("游戏对象名称");

// 通过标签查找一个对象
GameObject.FindWithTag("Tag名称");

// 通过标签查找一组对象
GameObject.FindGameObjectsWithTag("Tag名称");

// 根据类型查找一个游戏对象
GameObject.FindObjectOfType<类型>();

// 根据类型查找当前场景中该类型的所有游戏对象
GameObject.FindObjectsOfType<类型>();

```

## 4. 通过事件参数传值

比如碰撞、鼠标点击等等，可以将要访问的对象或组件，通过事件方法获取到